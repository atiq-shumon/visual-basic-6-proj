CREATE OR REPLACE  PROCEDURE RPT_PF_REGISTER 
    (p_test_cursor in out
test_package.test_type,
P_EmpID varchar2
)
as
begin

If P_EmpID is null then
open p_test_cursor for
SELECT 
EMP_INFO.EMP_Id,
EMP_INFO.EMP_NM, 
ST_DESIG.DESIGNATION,
ST_DEPT.DEPT_NM, 
EMP_PF.MONTH,
EMP_PF.YEAR,
EMP_PF.EMPLOYER_CONTRIBUTION,
EMP_PF.EMPLOYEE_CONTRIBUTION
FROM 
EMP_PF, 
EMP_INFO, 
EMP_JOB_INFO, 
ST_DEPT, 
ST_DESIG
WHERE 
((EMP_PF.EMP_ID=EMP_INFO.EMP_ID)
AND (EMP_JOB_INFO.EMP_ID=EMP_INFO.EMP_ID)
AND (EMP_JOB_INFO.DESIG=ST_DESIG.DESIG_CODE)
AND (EMP_JOB_INFO.DEPT=ST_DEPT.DEPT_CODE));

else
open p_test_cursor for


SELECT 
EMP_INFO.EMP_Id,
EMP_INFO.EMP_NM, 
ST_DESIG.DESIGNATION,
ST_DEPT.DEPT_NM,
EMP_PF.MONTH,
EMP_PF.YEAR,
EMP_PF.EMPLOYER_CONTRIBUTION,
EMP_PF.EMPLOYEE_CONTRIBUTION 
FROM 
EMP_PF, 
EMP_INFO, 
EMP_JOB_INFO, 
ST_DEPT, 
ST_DESIG 
WHERE 
((EMP_PF.EMP_ID=EMP_INFO.EMP_ID) 
AND (EMP_JOB_INFO.EMP_ID=EMP_INFO.EMP_ID) 
AND (EMP_JOB_INFO.DESIG=ST_DESIG.DESIG_CODE) 
AND (EMP_JOB_INFO.DEPT=ST_DEPT.DEPT_CODE) and EMP_INFO.Emp_Id=P_EmpID);

end if ;
end Rpt_PF_Register;