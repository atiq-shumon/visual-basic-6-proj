CREATE OR REPLACE  PROCEDURE RPT_PF_BAL_ENDOFYEAR 
(p_test_cursor in out
test_package.test_type,
P_EmpID varchar2
)
as
var_temp number;
Var_Retirement number;
begin
begin
If P_EmpID is null then
open p_test_cursor for

SELECT 
VIEW_OPENING_CLOSING.EMP_ID,
VIEW_OPENING_CLOSING.EMP_NM,
VIEW_OPENING_CLOSING.DESIGNATION,
VIEW_OPENING_CLOSING.DEPT_NM,
VIEW_OPENING_CLOSING.EMPLOYEE_CONTRIBUTION,
VIEW_OPENING_CLOSING.EMPLOYER_CONTRIBUTION,
VIEW_OPENING_CLOSING.TOTAL_CONTRIBUTION,
VIEW_OPENING_CLOSING.TOTAL_INT,
VIEW_OPENING_CLOSING.OPENING,
VIEW_OPENING_CLOSING.CLOSING 
FROM 
VIEW_OPENING_CLOSING;

else
open p_test_cursor for

SELECT 
VIEW_OPENING_CLOSING.EMP_ID,
VIEW_OPENING_CLOSING.EMP_NM,
VIEW_OPENING_CLOSING.DESIGNATION,
VIEW_OPENING_CLOSING.DEPT_NM,
VIEW_OPENING_CLOSING.EMPLOYEE_CONTRIBUTION,
VIEW_OPENING_CLOSING.EMPLOYER_CONTRIBUTION,
VIEW_OPENING_CLOSING.TOTAL_CONTRIBUTION,
VIEW_OPENING_CLOSING.TOTAL_INT,
VIEW_OPENING_CLOSING.OPENING,
VIEW_OPENING_CLOSING.CLOSING 
FROM 
VIEW_OPENING_CLOSING 
WHERE 
VIEW_OPENING_CLOSING.EMP_ID=P_EmpID ;

end if ;
end ;
end Rpt_PF_Bal_EndofYear;