create or replace procedure Parameter_setup_save(
p_EFFDATE date,
p_EMPCONTRPF number,
p_EMRCONTRPF number,
p_YEARLYINTOFPF number,
p_PFINCOMEINVESTDIST number,
p_CUYRTOTALCONTRIBUTION number,
p_MAXSEUPCOM number,
p_MAXSEUPWOM number,
p_MAXWHINMONTH number,
p_OTPAYPHR number,
p_HOLIDAYOT number,
p_HOLIDAYOTHOUR number,
p_SEAWRSALINOFFSE number,
p_HOUSERENTUNWCOM number,
p_DAUNDERPCOM number,
p_DAUNDERWCOM number,
p_SPEASSUPCOM number,
p_SPEASSUWCOM number)
as
var_temp number;
begin
select count(*) into var_temp
from parameter_main
where EFFDATE=p_EFFDATE;
if var_temp>0 then
update parameter_main
set 
	EMPCONTRPF =p_EMPCONTRPF ,
	EMRCONTRPF =p_EMRCONTRPF ,
	YEARLYINTOFPF=p_YEARLYINTOFPF ,
	PFINCOMEINVESTDIST=p_PFINCOMEINVESTDIST ,
	CUYRTOTALCONTRIBUTION=p_CUYRTOTALCONTRIBUTION ,
	MAXSEUPCOM=p_MAXSEUPCOM ,
	MAXSEUPWOM =p_MAXSEUPWOM ,
	MAXWHINMONTH =p_MAXWHINMONTH ,
	OTPAYPHR =p_OTPAYPHR ,
	HOLIDAYOT =p_HOLIDAYOT ,
	HOLIDAYOTHOUR =p_HOLIDAYOTHOUR ,
	SEAWRSALINOFFSE =p_SEAWRSALINOFFSE ,
	HOUSERENTUNWCOM =p_HOUSERENTUNWCOM ,
	DAUNDERPCOM = p_DAUNDERPCOM ,
	DAUNDERWCOM = p_DAUNDERWCOM,
	SPEASSUPCOM = p_SPEASSUPCOM ,
	SPEASSUWCOM = p_SPEASSUWCOM 
where  EFFDATE=p_EFFDATE;
else
insert into parameter_main values(
	p_EFFDATE,
	p_EMPCONTRPF,
	p_EMRCONTRPF,
	p_YEARLYINTOFPF,
	p_PFINCOMEINVESTDIST ,
	p_CUYRTOTALCONTRIBUTION ,
	p_MAXSEUPCOM ,
	p_MAXSEUPWOM ,
	p_MAXWHINMONTH ,
	p_OTPAYPHR ,
	p_HOLIDAYOT ,
	p_HOLIDAYOTHOUR ,
	p_SEAWRSALINOFFSE ,
	p_HOUSERENTUNWCOM ,
	p_DAUNDERPCOM ,
	p_DAUNDERWCOM ,
	p_SPEASSUPCOM ,
	p_SPEASSUWCOM 
	);
end if;
commit;
end  Parameter_setup_save;
/
