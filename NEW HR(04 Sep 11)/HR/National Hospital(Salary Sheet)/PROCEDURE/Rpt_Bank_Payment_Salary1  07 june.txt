create or replace procedure Rpt_Bank_Payment_Salary(p_test_cursor in out
test_package.test_type,
P_Month varchar2,
p_Year varchar2,
p_EmpClass varchar2)
as
begin

if p_EmpClass='1' then
open p_test_cursor for
	SELECT EMP_INFO.EMP_ID,EMP_INFO.EMP_NM,EMP_JOB_INFO.ACC_NO,
	ST_DEPT.DEPT_NM,ST_DESIG.DESIGNATION,SALARY_PREPARATION.NET_PAYABLE,
	SALARY_PREPARATION.SALARY_DISBURSE
	FROM EMP_INFO,EMP_JOB_INFO,
	SALARY_PREPARATION,ST_DEPT,ST_DESIG
	WHERE ((EMP_JOB_INFO.EMP_ID=EMP_INFO.EMP_ID)
	AND (SALARY_PREPARATION.EMP_ID=EMP_INFO.EMP_ID)
	AND (EMP_JOB_INFO.DESIG=ST_DESIG.DESIG_CODE)
	AND (ST_DEPT.DEPT_CODE=EMP_JOB_INFO.DEPT)
	AND (SALARY_PREPARATION.PAY_YEAR=p_Year)
	AND (SALARY_PREPARATION.PAY_MONTH=P_Month)
	AND substr(EMP_INFO.EMP_ID,1,1)='1') ;

elsif p_EmpClass='2' then
open p_test_cursor for
	SELECT EMP_INFO.EMP_ID,EMP_INFO.EMP_NM,EMP_JOB_INFO.ACC_NO,
	ST_DEPT.DEPT_NM,ST_DESIG.DESIGNATION,SALARY_PREPARATION.NET_PAYABLE,
	SALARY_PREPARATION.SALARY_DISBURSE
	FROM EMP_INFO,EMP_JOB_INFO,
	SALARY_PREPARATION,ST_DEPT,ST_DESIG
	WHERE ((EMP_JOB_INFO.EMP_ID=EMP_INFO.EMP_ID)
	AND (SALARY_PREPARATION.EMP_ID=EMP_INFO.EMP_ID)
	AND (EMP_JOB_INFO.DESIG=ST_DESIG.DESIG_CODE)
	AND (ST_DEPT.DEPT_CODE=EMP_JOB_INFO.DEPT)
	AND (SALARY_PREPARATION.PAY_YEAR=p_Year)
	AND (SALARY_PREPARATION.PAY_MONTH=P_Month)
	AND substr(EMP_INFO.EMP_ID,1,1)='2') ;

elsif p_EmpClass='3' then
open p_test_cursor for
	SELECT EMP_INFO.EMP_ID,EMP_INFO.EMP_NM,EMP_JOB_INFO.ACC_NO,
	ST_DEPT.DEPT_NM,ST_DESIG.DESIGNATION,SALARY_PREPARATION.NET_PAYABLE,
	SALARY_PREPARATION.SALARY_DISBURSE
	FROM EMP_INFO,EMP_JOB_INFO,
	SALARY_PREPARATION,ST_DEPT,ST_DESIG
	WHERE ((EMP_JOB_INFO.EMP_ID=EMP_INFO.EMP_ID)
	AND (SALARY_PREPARATION.EMP_ID=EMP_INFO.EMP_ID)
	AND (EMP_JOB_INFO.DESIG=ST_DESIG.DESIG_CODE)
	AND (ST_DEPT.DEPT_CODE=EMP_JOB_INFO.DEPT)
	AND (SALARY_PREPARATION.PAY_YEAR=p_Year)
	AND (SALARY_PREPARATION.PAY_MONTH=P_Month)
	AND substr(EMP_INFO.EMP_ID,1,1)='3');
else
open p_test_cursor for
	SELECT EMP_INFO.EMP_ID,EMP_INFO.EMP_NM,EMP_JOB_INFO.ACC_NO,
	ST_DEPT.DEPT_NM,ST_DESIG.DESIGNATION,SALARY_PREPARATION.NET_PAYABLE,
	SALARY_PREPARATION.SALARY_DISBURSE
	FROM EMP_INFO,EMP_JOB_INFO,
	SALARY_PREPARATION,ST_DEPT,ST_DESIG
	WHERE ((EMP_JOB_INFO.EMP_ID=EMP_INFO.EMP_ID)
	AND (SALARY_PREPARATION.EMP_ID=EMP_INFO.EMP_ID)
	AND (EMP_JOB_INFO.DESIG=ST_DESIG.DESIG_CODE)
	AND (ST_DEPT.DEPT_CODE=EMP_JOB_INFO.DEPT)
	AND (SALARY_PREPARATION.PAY_YEAR=p_Year)
	AND (SALARY_PREPARATION.PAY_MONTH=P_Month)
	AND substr(EMP_INFO.EMP_ID,1,1)='4');
end if;

end Rpt_Bank_Payment_Salary;
